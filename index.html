<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Headers Formatter</title>
<style>
body { font-family: sans-serif; padding: 20px; }
textarea { width: 100%; height: 300px; }
pre { background: #f4f4f4; padding: 10px; white-space: pre-wrap; }
</style>
</head>
<body>
<h1>Headers Formatter</h1>
<textarea id="input" placeholder="Paste raw headers here..."></textarea>
<br><br>
<label><input type="checkbox" id="includeCookies"> Include cookies</label>
<br><br>
<button onclick="formatHeaders()">Format</button>

<h2>Output</h2>
<pre id="output"></pre>

<script>
function formatHeaders() {
    const raw = document.getElementById("input").value.split("\n");
    const includeCookies = document.getElementById("includeCookies").checked;

    let result = {};
    let skipNext = false;

    for (let i = 0; i < raw.length; i++) {
        let line = raw[i].trim();
        if (skipNext) { skipNext = false; continue; }
        if (line.startsWith(":")) { skipNext = true; continue; }
        if (line.toLowerCase() === "cookie" && !includeCookies) { skipNext = true; continue; }
        if (line === "") continue;
        // pair lines as key/value
        if (i % 2 === 0 && i + 1 < raw.length) {
            result[line] = raw[i+1].trim();
        }
    }

    let output = "headers = {\n";
    for (let key in result) {
        output += `    "${key}": "${result[key]}",\n`;
    }
    output += "}";
    document.getElementById("output").textContent = output;
}
</script>
</body>
</html>
