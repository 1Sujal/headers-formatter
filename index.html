<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Headers Formatter</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<style>
body { background-color: #0f172a; color: #f1f5f9; }
textarea { resize: none; }
</style>
</head>
<body class="flex flex-col items-center min-h-screen p-6">

<h1 class="text-4xl font-bold mb-6 text-center text-cyan-400">Headers Formatter</h1>

<div class="w-full max-w-4xl flex flex-col gap-4">

    <label class="font-semibold text-lg">Paste Raw Headers:</label>
    <textarea id="input" class="w-full h-64 p-4 rounded-lg bg-slate-800 text-white border border-slate-700 placeholder-slate-400" placeholder="Paste your headers here..."></textarea>

    <div class="flex items-center gap-2">
        <input type="checkbox" id="includeCookies" class="w-4 h-4">
        <label for="includeCookies" class="text-white font-medium">Include cookies</label>
    </div>

    <button onclick="formatHeaders()" class="bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-6 rounded-lg shadow-lg transition-all">Format Headers</button>

    <label class="font-semibold text-lg mt-4">Formatted Output:</label>
    <pre id="output" class="rounded-lg p-4 bg-slate-900 overflow-x-auto"><code class="language-python"></code></pre>
</div>

<script>
function formatHeaders() {
    const raw = document.getElementById("input").value.split("\n");
    const includeCookies = document.getElementById("includeCookies").checked;

    let lines = raw.map(l => l.trim()).filter(l => l !== "");
    let line_lists = [];
    let skipNext = false;

    for (let i = 0; i < lines.length; i++) {
        let line = lines[i];
        if (skipNext) { skipNext = false; continue; }
        if (line.startsWith(":")) { skipNext = true; continue; }
        if (line.toLowerCase() === "cookie" && !includeCookies) { skipNext = true; continue; }
        line_lists.push(line);
    }

    let headers = {};
    for (let i = 0; i < line_lists.length - 1; i += 2) {
        headers[line_lists[i]] = line_lists[i + 1];
    }

    let output = "headers = {\n";
    for (let key in headers) {
        output += `    "${key}": "${headers[key]}",\n`;
    }
    output += "}";
    
    const codeBlock = document.querySelector("#output code");
    codeBlock.textContent = output;
    Prism.highlightElement(codeBlock);
}
</script>

</body>
</html>
